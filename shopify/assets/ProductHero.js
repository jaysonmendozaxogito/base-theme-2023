import{d as v,i as b,b as m,a as s,e as c,F as C,r as y,t as i,f as g,w,o as r,s as _}from"./pinia.js";import{_ as D,s as k,u as S}from"./global-template.js";const M=v({id:"product",state:()=>({isLoading:!1,error:null,media:[],activeColor:null}),actions:{setActiveColor(e){this.activeColor=e},setAllProductMedia(e){this.media=e}}}),$=M,O=b({name:"product-hero",props:{shopifyData:{type:Object,required:!0}},setup(e){const{variant_id:n,options:d}=e.shopifyData,l=$(),u=m({Color:d[0].values[0]});let p=m(!1);function t(o,a){a.name==="Color"&&l.setActiveColor(k(o))}return{product:l,errorMessage:p,selectedOptions:u,slugify:k,changeOption:t,handleClick:async o=>{if(o.preventDefault(),!n)return;await S().addToCart({id:n,quantity:1}).then(h=>{console.log("res",h)})}}}}),P={key:0},A={class:"swatches-container"},B=["onClick"],q={key:0,class:"text-md mt-2 text-error"},x=["textContent"];function F(e,n,d,l,u,p){return e.shopifyData?(r(),s("div",P,[c("div",A,[(r(!0),s(C,null,y(e.shopifyData.options,(t,f)=>(r(),s("div",{key:f},[c("p",null,i(t.name),1),(r(!0),s(C,null,y(t.values,(o,a)=>(r(),s("button",{key:a,class:_(["swatch mr-5 p-4",[e.product.activeColor===e.slugify(o)?"bg-black text-white":"bg-grey"]]),onClick:h=>e.changeOption(o,t)},i(o),11,B))),128))]))),128))]),e.errorMessage?(r(),s("p",q,i(e.errorMessage),1)):g("",!0),c("button",{type:"button",onClick:n[0]||(n[0]=w((...t)=>e.handleClick&&e.handleClick(...t),["prevent"])),class:"mt-10 block w-full transform rounded-3xl bg-black px-4 py-3 text-center font-medium text-white transition-colors duration-300 focus:outline-none",textContent:i(e.window.variantStrings.addToCart)},null,8,x)])):g("",!0)}const T=D(O,[["render",F]]);export{T as default};
