import{d as c,g as d,j as n,r as u,k as g,_ as m,B as p,C}from"./_plugin-vue_export-helper.js";const f=c({id:"product",state:()=>({isLoading:!1,error:null,media:[],activeColor:null}),getters:{isProductInCart(){},getImagesPerColor(){const e=this.media.filter(t=>(console.log("<<<<image.alt:",t.alt,this.activeColor),t.alt.includes(this.activeColor)));return console.log("imagesThatContainsCurrentColorOnAltValue:",e),e}},actions:{setActiveColor(e){this.activeColor=e},setAllProductMedia(e){this.media=e},async fetchProductMedia(e){if(!!e){this.isLoading=!0;try{const t=await d(`/products/${e}.js`,"GET",null,null),r=t.data;console.log("response:",t);const a=r.media;this.media=a,this.isLoading=!1}catch(t){this.error=t,this.isLoading=!1}}}}}),h=f,v=n({name:"product-gallery",props:{media:{type:Array,default:()=>[]},activeColor:{type:String,default:""}},setup(e,{slots:t}){const r=u({});console.log("props.activeColor:",e);const a=h();a.setActiveColor(e.activeColor);const i=l=>{l.forEach(o=>{if(o.media_type==="image"){const s=new Image;s.src=o.src,s.onload=()=>{r.value[o.id]=o.src}}else o.media_type==="video"||o.media_type})};return g(()=>{i(e.media),a.setAllProductMedia(e.media)}),()=>t.default({loadedImages:r.value,getImagesPerColor:a.getImagesPerColor})}}),y=m(v,[["__file","/Users/latiosaxe/code/myntr/base-theme-2023/src/vue/components/renderless/ProductGallery.vue"]]);document.addEventListener("DOMContentLoaded",()=>{const e=p(),t=C(n({components:{ProductGallery:y},data(){return{remainingMedia:window.remainingMedia||[]}}}));t.use(e),t.mount("#product-app")});
